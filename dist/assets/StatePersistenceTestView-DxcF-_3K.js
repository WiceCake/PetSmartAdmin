import{a as R}from"./stores-BYixwwI5.js";import{r as C,U as P,V as $,o as D,q as N,d as A,a as r,i as B,e as U,w as l,g as e,f as o,k as i,t as b,m as s}from"./vue-vendor-DBH4gaed.js";import{_ as h}from"./admin-p6Pbvhvw.js";import"./services-B6m35qR1.js";import"./ui-vendor-D2Zhk6Dz.js";import"./supabase-vendor-CEZ1HC2p.js";import"./components-CxTxZpxR.js";function F(T,p){const{key:a,persistInLocalStorage:_=!0,restoreOnActivated:m=!0,saveOnDeactivated:w=!0}=p,t=C(T),v=C(!0),c=`component-state-${a}`,S=()=>{if(!_)return null;try{const n=localStorage.getItem(c);if(n)return JSON.parse(n)}catch(n){console.warn(`Failed to load component state for ${a}:`,n)}return null},d=()=>{if(_)try{localStorage.setItem(c,JSON.stringify(t.value))}catch(n){console.warn(`Failed to save component state for ${a}:`,n)}},f=()=>{const n=S();n!==null&&(t.value=n)},g=()=>{try{localStorage.removeItem(c)}catch(n){console.warn(`Failed to clear component state for ${a}:`,n)}},V=n=>{t.value=n,_&&d()},x=n=>{typeof t.value=="object"&&t.value!==null&&(t.value={...t.value,...n},_&&d())};return P(()=>{v.value=!0,m&&f()}),$(()=>{v.value=!1,w&&d()}),D(()=>{m&&f()}),N(()=>{w&&d()}),{state:t,isActive:v,setState:V,mergeState:x,saveState:d,restoreState:f,clearState:g}}const L={class:"mb-4"},J={class:"d-flex gap-2 flex-wrap"},M={class:"mt-4"},Y=A({__name:"StatePersistenceTestView",setup(T){const p=R(),a=F({testInput:"",testSlider:50,testSwitch:!1,testSelect:"option1"},{key:"state-persistence-test",persistInLocalStorage:!0,restoreOnActivated:!0,saveOnDeactivated:!0}),_=[{title:"Option 1",value:"option1"},{title:"Option 2",value:"option2"},{title:"Option 3",value:"option3"}],m=()=>{a.saveState()};return(w,t)=>{const v=r("v-col"),c=r("v-row"),S=r("v-card-title"),d=r("v-btn"),f=r("v-card-text"),g=r("v-card"),V=r("v-text-field"),x=r("v-slider"),n=r("v-switch"),y=r("v-select"),I=r("v-form"),k=r("v-alert"),O=r("v-container");return U(),B(O,{fluid:""},{default:l(()=>[e(c,null,{default:l(()=>[e(v,{cols:"12"},{default:l(()=>t[8]||(t[8]=[o("h1",{class:"text-h4 mb-6"},"State Persistence Test",-1),o("p",{class:"text-subtitle-1 mb-6"}," This page demonstrates the state persistence features implemented in the admin dashboard. ",-1)])),_:1,__:[8]})]),_:1}),e(c,null,{default:l(()=>[e(v,{cols:"12",md:"6"},{default:l(()=>[e(g,{class:"mb-4"},{default:l(()=>[e(S,null,{default:l(()=>t[9]||(t[9]=[i("Sidebar State Persistence")])),_:1,__:[9]}),e(f,null,{default:l(()=>[o("div",L,[t[10]||(t[10]=o("h4",null,"Current Sidebar State:",-1)),o("ul",null,[o("li",null,"Drawer Open: "+b(s(p).drawer?"Yes":"No"),1),o("li",null,"Rail Mode: "+b(s(p).rail?"Yes":"No"),1),o("li",null,"Scroll Position: "+b(s(p).scrollPosition)+"px",1),o("li",null,"Last Route: "+b(s(p).lastActiveRoute),1)])]),o("div",J,[e(d,{onClick:t[0]||(t[0]=u=>s(p).toggleDrawer()),color:"primary",variant:"outlined"},{default:l(()=>t[11]||(t[11]=[i(" Toggle Drawer ")])),_:1,__:[11]}),e(d,{onClick:t[1]||(t[1]=u=>s(p).toggleRail()),color:"secondary",variant:"outlined"},{default:l(()=>t[12]||(t[12]=[i(" Toggle Rail ")])),_:1,__:[12]}),e(d,{onClick:t[2]||(t[2]=u=>s(p).reset()),color:"warning",variant:"outlined"},{default:l(()=>t[13]||(t[13]=[i(" Reset State ")])),_:1,__:[13]})])]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",md:"6"},{default:l(()=>[e(g,{class:"mb-4"},{default:l(()=>[e(S,null,{default:l(()=>t[14]||(t[14]=[i("Component State Persistence")])),_:1,__:[14]}),e(f,null,{default:l(()=>[e(I,null,{default:l(()=>[e(V,{modelValue:s(a).state.testInput,"onUpdate:modelValue":t[3]||(t[3]=u=>s(a).state.testInput=u),label:"Test Input (persisted)",hint:"This value persists across navigation","persistent-hint":"",onInput:m},null,8,["modelValue"]),e(x,{modelValue:s(a).state.testSlider,"onUpdate:modelValue":[t[4]||(t[4]=u=>s(a).state.testSlider=u),m],label:"Test Slider (persisted)",min:"0",max:"100"},null,8,["modelValue"]),e(n,{modelValue:s(a).state.testSwitch,"onUpdate:modelValue":[t[5]||(t[5]=u=>s(a).state.testSwitch=u),m],label:"Test Switch (persisted)"},null,8,["modelValue"]),e(y,{modelValue:s(a).state.testSelect,"onUpdate:modelValue":[t[6]||(t[6]=u=>s(a).state.testSelect=u),m],items:_,label:"Test Select (persisted)"},null,8,["modelValue"])]),_:1}),o("div",M,[e(d,{onClick:t[7]||(t[7]=u=>s(a).clearState()),color:"error",variant:"outlined"},{default:l(()=>t[15]||(t[15]=[i(" Clear Component State ")])),_:1,__:[15]})])]),_:1})]),_:1})]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(v,{cols:"12"},{default:l(()=>[e(g,null,{default:l(()=>[e(S,null,{default:l(()=>t[16]||(t[16]=[i("Testing Instructions")])),_:1,__:[16]}),e(f,null,{default:l(()=>[t[18]||(t[18]=o("h4",null,"To test state persistence:",-1)),t[19]||(t[19]=o("ol",null,[o("li",null,[o("strong",null,"Sidebar State"),i(": Toggle sidebar settings, then navigate to another page and back")]),o("li",null,[o("strong",null,"Scroll Position"),i(": Scroll in the sidebar navigation, navigate away, and return")]),o("li",null,[o("strong",null,"Component State"),i(": Fill out the form above, navigate to another page, and return")]),o("li",null,[o("strong",null,"Browser Refresh"),i(": Refresh the page to test localStorage persistence")]),o("li",null,[o("strong",null,"Responsive Behavior"),i(": Resize the window to test responsive state handling")])],-1)),e(k,{type:"info",class:"mt-4"},{default:l(()=>t[17]||(t[17]=[o("strong",null,"Expected Behavior",-1),i(": All states should be preserved across navigation and browser refreshes. The sidebar should maintain its position, the form should retain its values, and the scroll position should be restored. ")])),_:1,__:[17]})]),_:1,__:[18,19]})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Q=h(Y,[["__scopeId","data-v-7d695777"]]);export{Q as default};
//# sourceMappingURL=StatePersistenceTestView-DxcF-_3K.js.map
