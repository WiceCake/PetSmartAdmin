const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/services-B6m35qR1.js","assets/stores-BYixwwI5.js","assets/vue-vendor-DBH4gaed.js","assets/vue-vendor-DKnpeO9N.css","assets/ui-vendor-D2Zhk6Dz.js","assets/supabase-vendor-CEZ1HC2p.js"])))=>i.map(i=>d[i]);
import{r as j,o as we,q as Se,s as Ue,d as be,v as Ee,c as E,b as B,e as _,x as Ze,n as ne,j as S,f as t,m as We,t as y,a as s,i as N,w as a,g as e,k as U,y as He,u as Qe,z as ge,l as _e,h as $e,A as Ve,F as Ce,p as Ne,B as Je,C as Ke,D as ze,E as De}from"./vue-vendor-DBH4gaed.js";import{a as Re,u as Oe}from"./stores-BYixwwI5.js";import{_ as ue}from"./admin-p6Pbvhvw.js";import{c as Ae,A as Me}from"./services-B6m35qR1.js";const Ye="modulepreload",Xe=function(g){return"/"+g},je={},et=function(z,m,C){let w=Promise.resolve();if(m&&m.length>0){document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),k=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));w=Promise.allSettled(m.map(v=>{if(v=Xe(v),v in je)return;je[v]=!0;const l=v.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${o}`))return;const n=document.createElement("link");if(n.rel=l?"stylesheet":Ye,l||(n.as="script"),n.crossOrigin="",n.href=v,k&&n.setAttribute("nonce",k),document.head.appendChild(n),l)return new Promise((c,P)=>{n.addEventListener("load",c),n.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function I(x){const k=new Event("vite:preloadError",{cancelable:!0});if(k.payload=x,window.dispatchEvent(k),!k.defaultPrevented)throw x}return w.then(x=>{for(const k of x||[])k.status==="rejected"&&I(k.reason);return z().catch(I)})};function tt(g={}){const{selector:z=".sidebar-nav",throttleMs:m=100,saveOnScroll:C=!0,restoreOnMount:w=!0}=g,I=Re(),x=j(g.element||null),k=j(!1);let v=null;const l=()=>{k.value||!x.value||!C||(v&&clearTimeout(v),v=window.setTimeout(()=>{if(x.value){const $=x.value.scrollTop;I.setScrollPosition($)}},m))},o=()=>{if(g.element)return g.element;const $=document.querySelector(z);return $||(console.warn(`Scroll element not found with selector: ${z}`),null)},n=async()=>{if(!w||!I.userPreferences.rememberScrollPosition)return;await Ue();const $=x.value||o();if(!$)return;const R=I.scrollPosition;R>0&&(k.value=!0,requestAnimationFrame(()=>{$&&($.scrollTop=R,setTimeout(()=>{k.value=!1},100))}))},c=()=>{const $=x.value||o();if($){const R=$.scrollTop;I.setScrollPosition(R)}},P=($,R=!0)=>{const d=x.value||o();d&&d.scrollTo({top:$,behavior:R?"smooth":"auto"})},p=($=!0)=>{P(0,$)},V=async()=>{await Ue();const $=o();$&&(x.value=$,$.addEventListener("scroll",l,{passive:!0}),await n())},W=()=>{x.value&&x.value.removeEventListener("scroll",l),v&&(clearTimeout(v),v=null)};return we(()=>{V()}),Se(()=>{c(),W()}),{scrollElement:x,isRestoring:k,restoreScrollPosition:n,saveScrollPosition:c,scrollTo:P,scrollToTop:p,initialize:V,cleanup:W}}const pe={logos:{main:"/assets/images/logo-petsmart.svg",mainPng:"/assets/images/logo-petsmart.png",icon:"/assets/images/logo-petsmart.svg",iconPng:"/assets/images/logo-petsmart.png",mainWhite:"/assets/images/logo-petsmart-white.svg",iconWhite:"/assets/images/logo-petsmart-white.svg",placeholder:"/assets/images/logo-placeholder.svg"},defaults:{userAvatar:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNFNUU3RUIiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0iIzlDQTNBRiIvPgo8cGF0aCBkPSJNMzAgMzJDMzAgMjYuNDc3MSAyNS41MjI5IDIyIDIwIDIyQzE0LjQ3NzEgMjIgMTAgMjYuNDc3MSAxMCAzMkgzMFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+",petAvatar:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNGRkY3RUQiLz4KPGVsbGlwc2UgY3g9IjIwIiBjeT0iMjIiIHJ4PSIxMiIgcnk9IjEwIiBmaWxsPSIjRjU5RTBCIi8+CjxjaXJjbGUgY3g9IjE2IiBjeT0iMTgiIHI9IjIiIGZpbGw9IiMxRjJBMzciLz4KPGNpcmNsZSBjeD0iMjQiIGN5PSIxOCIgcj0iMiIgZmlsbD0iIzFGMkEzNyIvPgo8cGF0aCBkPSJNMTggMjJIMjJWMjRIMThaIiBmaWxsPSIjMUYyQTM3Ii8+Cjwvc3ZnPg==",productImage:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iI0Y5RkFGQiIvPgo8cmVjdCB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHJ4PSI0IiBmaWxsPSIjRTVFN0VCIi8+CjxjaXJjbGUgY3g9IjIwIiBjeT0iMjAiIHI9IjYiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+"}},Te={sizes:{sidebarCollapsed:{width:36,height:36,useIcon:!1},sidebarExpanded:{width:180,height:54,useIcon:!1},loginPage:{width:240,height:72,useIcon:!1},appHeader:{width:140,height:42,useIcon:!1},mobile:{sidebarCollapsed:{width:28,height:28,useIcon:!1},sidebarExpanded:{width:150,height:45,useIcon:!1},loginPage:{width:180,height:54,useIcon:!1}}}};function at(g,z={}){const{collapsed:m=!1,isDark:C=!1,isMobile:w=!1}=z;return g==="login"||C?pe.logos.mainWhite:pe.logos.main}function st(g,z={}){const{collapsed:m=!1,isMobile:C=!1}=z,w=C?Te.sizes.mobile:Te.sizes;switch(g){case"sidebar":return m?w.sidebarCollapsed:w.sidebarExpanded;case"login":return C?w.mobile.loginPage:w.loginPage;case"header":return w.appHeader;default:return w.sidebarExpanded}}const ot=["src","alt","width","height"],nt={key:1,class:"logo-fallback"},lt=["src","alt","width","height"],it={key:0,class:"logo-text"},rt=be({__name:"AppLogo",props:{context:{default:"sidebar"},collapsed:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1},fallbackText:{default:"PetSmart"},clickable:{type:Boolean,default:!1}},emits:["click"],setup(g,{emit:z}){const m=g,C=z,w=Ee(),I=j(!1),x=j(!1),k=j(!1),v=E(()=>w.global.current.value.dark),l=E(()=>at(m.context,{collapsed:m.collapsed,isDark:v.value,isMobile:m.isMobile})),o=E(()=>st(m.context,{collapsed:m.collapsed,isMobile:m.isMobile})),n=E(()=>`${m.fallbackText} Logo`),c=E(()=>({"app-logo--clickable":m.clickable,"app-logo--collapsed":m.collapsed,"app-logo--mobile":m.isMobile,"app-logo--sidebar":m.context==="sidebar","app-logo--login":m.context==="login","app-logo--header":m.context==="header","app-logo--fallback":I.value,"app-logo--no-animation":k.value})),P=E(()=>({"--logo-width":`${o.value.width}px`,"--logo-height":`${o.value.height}px`})),p=()=>{console.warn(`Logo image failed to load: ${l.value}`),I.value=!0;const $=new Image;$.onload=()=>{console.info("Fallback placeholder logo loaded successfully")},$.onerror=()=>{console.warn("Placeholder logo also failed to load, using text fallback")},$.src=pe.logos.placeholder},V=()=>{x.value=!0,I.value=!1,setTimeout(()=>{k.value=!0},500)},W=()=>{m.clickable&&C("click")};return we(()=>{const $=new Image;$.onload=()=>{x.value=!0},$.onerror=()=>{I.value=!0},$.src=l.value}),($,R)=>(_(),B("div",{class:ne(["app-logo",c.value]),style:Ze(P.value),onClick:W},[I.value?S("",!0):(_(),B("img",{key:0,src:l.value,alt:n.value,width:o.value.width,height:o.value.height,class:"logo-image",onError:p,onLoad:V},null,40,ot)),I.value?(_(),B("div",nt,[t("img",{src:We(pe).logos.placeholder,alt:`${$.fallbackText} Placeholder`,width:o.value.width,height:o.value.height,class:"logo-image logo-placeholder",onError:()=>{}},null,40,lt),x.value?S("",!0):(_(),B("span",it,y($.fallbackText),1))])):S("",!0)],6))}}),ct=ue(rt,[["__scopeId","data-v-42230d6c"]]),dt={class:"d-flex align-center"},ut=be({__name:"ConnectionStatus",setup(g){const z=Oe(),m=j(!1),C=j(Ae.getStatus());let w=null;const I=()=>{const k=Ae.getStatus(),v=C.value.isConnected,l=k.isConnected;C.value=k,v!==l&&(m.value=!0,l&&setTimeout(()=>{m.value=!1},3e3))},x=async()=>{try{await Ae.reconnect(),await z.recoverConnection()}catch(k){console.error("Manual reconnection failed:",k)}};return we(()=>{w=window.setInterval(I,2e3),I()}),Se(()=>{w&&clearInterval(w)}),(k,v)=>{const l=s("v-icon"),o=s("v-spacer"),n=s("v-btn"),c=s("v-snackbar");return _(),N(c,{modelValue:m.value,"onUpdate:modelValue":v[1]||(v[1]=P=>m.value=P),color:C.value.isConnected?"success":"error",location:"top",timeout:"-1",class:"connection-status-snackbar"},{default:a(()=>[t("div",dt,[e(l,{class:"me-2"},{default:a(()=>[U(y(C.value.isConnected?"mdi-wifi":"mdi-wifi-off"),1)]),_:1}),t("span",null,y(C.value.isConnected?"Connection restored":"Connection lost"),1),e(o),C.value.isConnected?S("",!0):(_(),N(n,{key:0,variant:"text",size:"small",loading:C.value.isReconnecting,onClick:x},{default:a(()=>v[2]||(v[2]=[U(" Reconnect ")])),_:1,__:[2]},8,["loading"])),C.value.isConnected?(_(),N(n,{key:1,icon:"mdi-close",size:"small",variant:"text",onClick:v[0]||(v[0]=P=>m.value=!1)})):S("",!0)])]),_:1},8,["modelValue","color"])}}}),mt=ue(ut,[["__scopeId","data-v-a2e714b9"]]),vt={key:0,class:"sidebar-header__content"},pt={class:"sidebar-header__logo-container"},ft={key:1,class:"sidebar-header__collapsed"},_t={class:"sidebar-nav"},gt={class:"pa-2 sidebar-nav-content"},bt={class:"nav-section"},ht={key:0,class:"nav-section-title"},wt={class:"nav-items"},yt={class:"nav-item-content"},xt={key:0,class:"nav-item-text"},kt={class:"nav-section mt-6"},$t={key:0,class:"nav-section-title"},Ct={class:"nav-items"},It={class:"nav-item-content"},Pt={key:0,class:"nav-item-text"},At={class:"sidebar-footer pa-4"},St={key:0,class:"user-profile mb-3"},Ut={class:"d-flex align-center"},Vt={class:"flex-grow-1 min-width-0"},Nt={class:"text-subtitle-2 font-weight-medium mb-0 text-truncate"},zt={class:"quick-actions"},Dt={class:"app-bar-content"},Mt={class:"page-header"},jt={class:"page-title"},Tt={class:"app-bar-search"},Et={class:"app-bar-actions"},Rt={class:"notifications-header"},Ot={class:"notifications-header__content"},Bt={class:"notifications-header__title-section"},Lt={class:"notifications-header__actions"},qt={class:"notifications-content"},Gt={key:0,class:"notifications-empty"},Ft={class:"notifications-empty__content"},Zt={key:1,class:"notifications-list"},Wt=["onClick"],Ht={class:"notification-item__avatar"},Qt={class:"notification-item__content"},Jt={class:"notification-item__header"},Kt={class:"notification-item__title"},Yt={class:"notification-item__time"},Xt={class:"notification-item__message"},ea={key:0,class:"notification-item__actions"},ta={class:"notification-item__menu"},aa=be({__name:"AppLayout",setup(g){const z=He(),m=Qe(),C=Ee(),w=Oe(),I=Re(),{restoreScrollPosition:x,saveScrollPosition:k}=tt({selector:".sidebar-nav",saveOnScroll:!0,restoreOnMount:!0}),v=j(window.innerWidth),l=E({get:()=>I.drawer,set:r=>I.setDrawer(r)}),o=E({get:()=>I.rail,set:r=>I.setRail(r)}),n=j(!1);E(()=>({isOpen:n.value,isMobile:p.value,isTablet:V.value,width:p.value?"100vw":V.value?"380":"420"}));const c=j([{id:1,title:"New Order Received",message:"Order #12345 has been placed by John Smith for premium dog food.",type:"success",read:!1,timestamp:new Date(Date.now()-5*60*1e3),actions:[{label:"View Order",primary:!0,action:"view-order",data:{orderId:12345}},{label:"Dismiss",primary:!1,action:"dismiss"}]},{id:2,title:"Appointment Reminder",message:"Upcoming grooming appointment for Buddy at 2:00 PM today.",type:"info",read:!1,timestamp:new Date(Date.now()-15*60*1e3),actions:[{label:"View Details",primary:!0,action:"view-appointment",data:{appointmentId:456}}]},{id:3,title:"Low Stock Alert",message:"Cat litter inventory is running low. Only 5 units remaining.",type:"warning",read:!1,timestamp:new Date(Date.now()-2*60*60*1e3),actions:[{label:"Reorder",primary:!0,action:"reorder",data:{productId:789}},{label:"View Inventory",primary:!1,action:"view-inventory"}]},{id:4,title:"System Maintenance",message:"Scheduled maintenance will occur tonight from 11 PM to 1 AM.",type:"info",read:!0,timestamp:new Date(Date.now()-4*60*60*1e3)},{id:5,title:"Payment Failed",message:"Payment processing failed for order #12340. Customer needs to update payment method.",type:"error",read:!0,timestamp:new Date(Date.now()-24*60*60*1e3),actions:[{label:"Contact Customer",primary:!0,action:"contact-customer",data:{orderId:12340}}]}]),P=E(()=>c.value.filter(r=>!r.read).length),p=E(()=>v.value<=768),V=E(()=>v.value<=1024&&v.value>768),W=E(()=>!p.value),$=E(()=>p.value),R=E(()=>C.global.current.value.dark),d=E(()=>{var r,f;return((f=(r=w.user)==null?void 0:r.user_metadata)==null?void 0:f.avatar_url)||null}),b=E(()=>{var r,f,M;return w.adminUser?((r=w.adminUser.email)==null?void 0:r.split("@")[0])||"Admin User":((M=(f=w.user)==null?void 0:f.email)==null?void 0:M.split("@")[0])||"Admin User"}),q=E(()=>{const r=z.name;return{Dashboard:"Dashboard",Users:"User Management",Pets:"Pet Management",Appointments:"Appointments",Products:"Product Catalog",Orders:"Order Management",Messages:"Messages",Notifications:"Notifications",Analytics:"Analytics",Settings:"Settings"}[r]||r||"Dashboard"}),G=E(()=>{const r=z.path.split("/").filter(Boolean);return r.length<=1?[]:r.map((f,M)=>({title:f.charAt(0).toUpperCase()+f.slice(1),disabled:M===r.length-1,href:"/"+r.slice(0,M+1).join("/")}))}),ee=[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/dashboard",value:"dashboard"},{title:"Analytics",icon:"mdi-chart-line",to:"/analytics",value:"analytics"},{title:"Messages",icon:"mdi-message",to:"/messages",value:"messages",badge:5},{title:"Notifications",icon:"mdi-bell",to:"/notifications",value:"notifications",badge:3}],se=[{title:"Users",icon:"mdi-account-group",to:"/users",value:"users"},{title:"Pets",icon:"mdi-paw",to:"/pets",value:"pets"},{title:"Appointments",icon:"mdi-calendar-clock",to:"/appointments",value:"appointments"},{title:"Products",icon:"mdi-package-variant",to:"/products",value:"products"},{title:"Orders",icon:"mdi-shopping",to:"/orders",value:"orders"},{title:"Settings",icon:"mdi-cog",to:"/settings",value:"settings"},{title:"State Test",icon:"mdi-test-tube",to:"/state-test",value:"state-test"}],F=()=>{C.global.name.value=C.global.current.value.dark?"light":"dark"},O=async()=>{await w.signOut(),m.push("/login")},te=async r=>{const M=r.target.value.trim();if(!(M.length<2))try{const{DashboardService:J}=await et(async()=>{const{DashboardService:K}=await import("./services-B6m35qR1.js").then(fe=>fe.d);return{DashboardService:K}},__vite__mapDeps([0,1,2,3,4,5])),Q=await J.searchGlobal(M,5);if(console.log("Search results:",Q),Q.length>0){const K=Q[0];switch(K.type){case"user":m.push(`/users/${K.id}`);break;case"pet":m.push(`/pets/${K.id}`);break;case"order":m.push(`/orders/${K.id}`);break}}}catch(J){console.error("Search error:",J)}},X=r=>r==="/dashboard"?z.path==="/dashboard":z.path.startsWith(r)&&(z.path===r||z.path.startsWith(r+"/")||z.path.startsWith(r+"?")),L=r=>{k(),I.setLastActiveRoute(r.to),p.value&&(l.value=!1),"vibrate"in navigator&&p.value&&navigator.vibrate(10),console.log("Navigating to:",r.to)},H=r=>{if(r.ctrlKey||r.metaKey)switch(r.key){case"1":r.preventDefault(),m.push("/dashboard");break;case"2":r.preventDefault(),m.push("/analytics");break;case"3":r.preventDefault(),m.push("/users");break;case"4":r.preventDefault(),m.push("/pets");break;case"/":r.preventDefault();break}},ie=r=>{switch(r){case"error":return"error";case"warning":return"warning";case"success":return"success";default:return"info"}},le=r=>{switch(r){case"error":return"mdi-alert-circle";case"warning":return"mdi-alert";case"success":return"mdi-check-circle";case"info":return"mdi-information";default:return"mdi-bell"}},oe=r=>{r.read=!0},i=r=>{r.read=!1},u=()=>{c.value.forEach(r=>{r.read=!0})},A=()=>{console.log("Toggle notifications clicked",{current:n.value,isMobile:p.value,windowWidth:v.value}),n.value=!n.value,console.log("New state:",n.value),setTimeout(()=>{const r=document.querySelector(".notifications-drawer");r&&(console.log("Drawer element classes:",r.className),console.log("Drawer computed styles:",{transform:getComputedStyle(r).transform,visibility:getComputedStyle(r).visibility,opacity:getComputedStyle(r).opacity,right:getComputedStyle(r).right,display:getComputedStyle(r).display}))},100)},Z=()=>{n.value=!1},D=r=>{const f=c.value.findIndex(M=>M.id===r.id);f>-1&&c.value.splice(f,1)},me=(r,f)=>{switch(console.log("Notification action:",f,"for notification:",r),f.action){case"view-order":m.push(`/orders/${f.data.orderId}`);break;case"view-appointment":m.push(`/appointments/${f.data.appointmentId}`);break;case"reorder":m.push(`/products/${f.data.productId}`);break;case"view-inventory":m.push("/inventory");break;case"contact-customer":m.push(`/orders/${f.data.orderId}`);break;case"dismiss":oe(r);break;default:console.log("Unknown action:",f.action)}f.action!=="dismiss"&&Z()},ve=r=>{const M=new Date().getTime()-r.getTime(),J=Math.floor(M/(1e3*60)),Q=Math.floor(M/(1e3*60*60)),K=Math.floor(M/(1e3*60*60*24));return J<1?"Just now":J<60?`${J}m ago`:Q<24?`${Q}h ago`:K<7?`${K}d ago`:r.toLocaleDateString()};let ae=null;const re=()=>{ae&&clearTimeout(ae),ae=setTimeout(()=>{v.value<=768,v.value<=1024&&v.value>768,v.value=window.innerWidth,v.value<=768,v.value<=1024&&v.value>768,I.handleResize(v.value)},150)};return we(()=>{I.initialize(v.value),window.addEventListener("resize",re),window.addEventListener("keydown",H),x(),typeof window<"u"&&(window.debugNotifications={toggle:A,close:Z,getState:()=>({showNotifications:n.value,isMobile:p.value,isTablet:V.value,windowWidth:v.value}),forceOpen:()=>{n.value=!0}})}),Se(()=>{k(),ae&&(clearTimeout(ae),ae=null),window.removeEventListener("resize",re),window.removeEventListener("keydown",H)}),ge(()=>z.path,r=>{I.setLastActiveRoute(r)},{immediate:!0}),(r,f)=>{const M=s("v-btn"),J=s("v-divider"),Q=s("v-icon"),K=s("v-badge"),fe=s("router-link"),Ie=s("v-img"),ye=s("v-avatar"),ce=s("v-list-item"),he=s("v-list"),xe=s("v-menu"),ke=s("v-navigation-drawer"),Pe=s("v-breadcrumbs"),T=s("v-spacer"),de=s("v-text-field"),Be=s("v-app-bar"),Le=s("v-container"),qe=s("v-main"),Ge=s("v-chip"),Fe=s("v-app");return _(),N(Fe,{class:"app-container"},{default:a(()=>[e(ke,{modelValue:l.value,"onUpdate:modelValue":f[6]||(f[6]=h=>l.value=h),rail:o.value&&!p.value,permanent:W.value,temporary:$.value,class:ne(["modern-sidebar",{"modern-sidebar--mobile":p.value}]),width:280,"rail-width":72,scrim:p.value,"disable-resize-watcher":!1,"disable-route-watcher":!1,touchless:!p.value,floating:""},{append:a(()=>[t("div",At,[o.value?S("",!0):(_(),B("div",St,[t("div",Ut,[e(ye,{size:"36",class:"me-3"},{default:a(()=>[d.value?(_(),N(Ie,{key:0,src:d.value,alt:"User Avatar"},null,8,["src"])):(_(),N(Q,{key:1,icon:"mdi-account"}))]),_:1}),t("div",Vt,[t("p",Nt,y(b.value),1),f[9]||(f[9]=t("p",{class:"text-caption text-on-surface-variant mb-0"}," Administrator ",-1))]),e(xe,null,{activator:a(({props:h})=>[e(M,Ne({icon:"mdi-dots-vertical",variant:"text",size:"small"},h),null,16)]),default:a(()=>[e(he,null,{default:a(()=>[e(ce,{"prepend-icon":"mdi-account",title:"Profile",onClick:f[3]||(f[3]=h=>r.$router.push("/profile"))}),e(ce,{"prepend-icon":"mdi-cog",title:"Settings",onClick:f[4]||(f[4]=h=>r.$router.push("/settings"))}),e(J),e(ce,{"prepend-icon":"mdi-logout",title:"Logout",onClick:O})]),_:1})]),_:1})])])),t("div",zt,[o.value?(_(),N(M,{key:0,icon:"mdi-account",variant:"text",size:"small",class:"mb-2",onClick:f[5]||(f[5]=h=>r.$router.push("/profile"))})):S("",!0),e(M,{icon:R.value?"mdi-weather-sunny":"mdi-weather-night",variant:"text",size:"small",class:ne({"mb-2":o.value}),onClick:F},null,8,["icon","class"]),o.value?(_(),N(M,{key:1,icon:"mdi-logout",variant:"text",size:"small",onClick:O})):S("",!0)])])]),default:a(()=>[t("div",{class:ne(["sidebar-header",{"sidebar-header--rail":o.value}])},[o.value?S("",!0):(_(),B("div",vt,[t("div",pt,[e(ct,{context:"sidebar",collapsed:!1,clickable:!0,onClick:f[0]||(f[0]=h=>r.$router.push("/dashboard"))})]),p.value?S("",!0):(_(),N(M,{key:0,icon:"mdi-chevron-left",variant:"text",size:"small",class:"sidebar-toggle sidebar-toggle--expanded",onClick:f[1]||(f[1]=_e(h=>o.value=!o.value,["stop"]))}))])),o.value?(_(),B("div",ft,[p.value?S("",!0):(_(),N(M,{key:0,icon:"mdi-chevron-right",variant:"text",size:"small",class:"sidebar-toggle sidebar-toggle--collapsed",onClick:f[2]||(f[2]=_e(h=>o.value=!o.value,["stop"]))}))])):S("",!0)],2),e(J,{class:"mx-4 my-2"}),t("div",_t,[t("nav",gt,[t("div",bt,[o.value?S("",!0):(_(),B("p",ht,"Main")),t("div",wt,[(_(),B(Ce,null,$e(ee,h=>e(fe,{key:h.value,to:h.to,class:ne(["nav-item",{"nav-item--active":X(h.to)}]),"aria-label":`Navigate to ${h.title}`,title:o.value?h.title:"",onClick:Y=>L(h),onKeydown:Ve(Y=>L(h),["enter"]),tabindex:"0"},{default:a(()=>[t("div",yt,[e(Q,{icon:h.icon,size:"20",class:"nav-item-icon"},null,8,["icon"]),o.value?S("",!0):(_(),B("span",xt,y(h.title),1)),h.badge&&!o.value?(_(),N(K,{key:1,content:h.badge,color:"error",class:"nav-item-badge"},null,8,["content"])):S("",!0)])]),_:2},1032,["to","class","aria-label","title","onClick","onKeydown"])),64))])]),t("div",kt,[o.value?S("",!0):(_(),B("p",$t,"Management")),t("div",Ct,[(_(),B(Ce,null,$e(se,h=>e(fe,{key:h.value,to:h.to,class:ne(["nav-item",{"nav-item--active":X(h.to)}]),"aria-label":`Navigate to ${h.title}`,title:o.value?h.title:"",onClick:Y=>L(h),onKeydown:Ve(Y=>L(h),["enter"]),tabindex:"0"},{default:a(()=>[t("div",It,[e(Q,{icon:h.icon,size:"20",class:"nav-item-icon"},null,8,["icon"]),o.value?S("",!0):(_(),B("span",Pt,y(h.title),1)),h.badge&&!o.value?(_(),N(K,{key:1,content:h.badge,color:"error",class:"nav-item-badge"},null,8,["content"])):S("",!0)])]),_:2},1032,["to","class","aria-label","title","onClick","onKeydown"])),64))])])])])]),_:1},8,["modelValue","rail","permanent","temporary","class","scrim","touchless"]),e(Be,{class:"modern-app-bar",elevation:"0",height:"72"},{default:a(()=>[t("div",Dt,[p.value?(_(),N(M,{key:0,icon:"mdi-menu",variant:"text",class:"mobile-menu-btn me-3",onClick:f[7]||(f[7]=h=>l.value=!l.value),"aria-label":l.value?"Close navigation menu":"Open navigation menu"},null,8,["aria-label"])):S("",!0),t("div",Mt,[t("h1",jt,y(q.value),1),G.value.length>0?(_(),N(Pe,{key:0,items:G.value,class:"page-breadcrumbs",density:"compact"},null,8,["items"])):S("",!0)]),e(T),t("div",Tt,[e(de,{placeholder:"Search anything...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact","hide-details":"",clearable:"",class:"search-field",onInput:te})]),t("div",Et,[e(M,{icon:"",variant:"text",class:"action-btn notification-btn",onClick:A,"aria-label":`Notifications${P.value>0?` (${P.value} unread)`:""}`,role:"button",tabindex:"0"},{default:a(()=>[P.value>0?(_(),N(K,{key:0,content:P.value,color:"error",floating:"",class:"notification-badge"},{default:a(()=>[e(Q,{size:"20"},{default:a(()=>f[10]||(f[10]=[U("mdi-bell")])),_:1,__:[10]})]),_:1},8,["content"])):(_(),N(Q,{key:1,size:"20"},{default:a(()=>f[11]||(f[11]=[U("mdi-bell-outline")])),_:1,__:[11]}))]),_:1},8,["aria-label"])])])]),_:1}),e(qe,null,{default:a(()=>[e(Le,{fluid:""},{default:a(()=>[Je(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),e(mt),e(ke,{modelValue:n.value,"onUpdate:modelValue":f[8]||(f[8]=h=>n.value=h),location:"right",temporary:"",absolute:"",width:p.value?"100vw":V.value?"380":"420",class:ne(["notifications-drawer",{"notifications-drawer--mobile":p.value,"notifications-drawer--tablet":V.value}]),"disable-resize-watcher":!0,"disable-route-watcher":!1,touchless:!p.value,scrim:!0,"mobile-breakpoint":768,"overlay-opacity":.5},{default:a(()=>[t("div",Rt,[t("div",Ot,[t("div",Bt,[f[12]||(f[12]=t("h2",{class:"notifications-header__title"},"Notifications",-1)),P.value>0?(_(),N(Ge,{key:0,text:P.value.toString(),color:"error",size:"small",class:"notifications-header__badge"},null,8,["text"])):S("",!0)]),t("div",Lt,[P.value>0?(_(),N(M,{key:0,variant:"text",size:"small",class:"notifications-header__action-btn",onClick:u},{default:a(()=>f[13]||(f[13]=[U(" Mark all read ")])),_:1,__:[13]})):S("",!0),e(M,{icon:"mdi-close",variant:"text",size:"small",class:"notifications-header__close-btn",onClick:Z,"aria-label":"Close notifications"})])])]),e(J),t("div",qt,[c.value.length===0?(_(),B("div",Gt,[t("div",Ft,[e(Q,{size:"64",color:"grey-lighten-1"},{default:a(()=>f[14]||(f[14]=[U("mdi-bell-outline")])),_:1,__:[14]}),f[15]||(f[15]=t("h3",{class:"notifications-empty__title"},"No notifications",-1)),f[16]||(f[16]=t("p",{class:"notifications-empty__subtitle"},"You're all caught up!",-1))])])):(_(),B("div",Zt,[(_(!0),B(Ce,null,$e(c.value,h=>(_(),B("div",{key:h.id,class:ne(["notification-item",{"notification-item--unread":!h.read,"notification-item--read":h.read}]),onClick:Y=>oe(h)},[f[17]||(f[17]=t("div",{class:"notification-item__indicator"},null,-1)),t("div",Ht,[e(ye,{color:ie(h.type),size:"40",class:"notification-item__avatar-content"},{default:a(()=>[e(Q,{icon:le(h.type),color:"white",size:"20"},null,8,["icon"])]),_:2},1032,["color"])]),t("div",Qt,[t("div",Jt,[t("h4",Kt,y(h.title),1),t("span",Yt,y(ve(h.timestamp)),1)]),t("p",Xt,y(h.message),1),h.actions?(_(),B("div",ea,[(_(!0),B(Ce,null,$e(h.actions,Y=>(_(),N(M,{key:Y.label,variant:Y.primary?"elevated":"text",color:Y.primary?"primary":"default",size:"small",class:"notification-item__action-btn",onClick:_e(Rs=>me(h,Y),["stop"])},{default:a(()=>[U(y(Y.label),1)]),_:2},1032,["variant","color","onClick"]))),128))])):S("",!0)]),t("div",ta,[e(xe,null,{activator:a(({props:Y})=>[e(M,Ne({icon:"mdi-dots-vertical",variant:"text",size:"small"},{ref_for:!0},Y,{class:"notification-item__menu-btn"}),null,16)]),default:a(()=>[e(he,{density:"compact"},{default:a(()=>[h.read?(_(),N(ce,{key:1,"prepend-icon":"mdi-email-outline",title:"Mark as unread",onClick:Y=>i(h)},null,8,["onClick"])):(_(),N(ce,{key:0,"prepend-icon":"mdi-check",title:"Mark as read",onClick:Y=>oe(h)},null,8,["onClick"])),e(ce,{"prepend-icon":"mdi-delete",title:"Delete",onClick:Y=>D(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])],10,Wt))),128))]))])]),_:1},8,["modelValue","width","class","touchless"])]),_:3})}}}),Gs=ue(aa,[["__scopeId","data-v-6d2581a4"]]),sa={class:"d-flex align-center"},oa={class:"text-body-2 text-on-surface-variant mb-0"},na=be({__name:"PasswordResetDialog",props:{modelValue:{type:Boolean},userName:{},loading:{type:Boolean,default:!1}},emits:["update:modelValue","reset","cancel"],setup(g,{emit:z}){const m=g,C=z,w=j(null),I=j(!1),x=j(""),k=j(""),v=E({get:()=>m.modelValue,set:p=>C("update:modelValue",p)}),l=[p=>!!p||"Password is required",p=>p.length>=8||"Password must be at least 8 characters",p=>/(?=.*[a-z])/.test(p)||"Password must contain at least one lowercase letter",p=>/(?=.*[A-Z])/.test(p)||"Password must contain at least one uppercase letter",p=>/(?=.*\d)/.test(p)||"Password must contain at least one number"],o=[p=>!!p||"Please confirm your password",p=>p===x.value||"Passwords do not match"],n=async()=>{w.value&&await w.value.validate()&&C("reset",x.value)},c=()=>{C("cancel"),P(),v.value=!1},P=()=>{x.value="",k.value="",I.value=!1,w.value&&(w.value.reset(),w.value.resetValidation())};return ge(v,p=>{p||P()}),(p,V)=>{const W=s("v-icon"),$=s("v-card-title"),R=s("v-text-field"),d=s("v-form"),b=s("v-card-text"),q=s("v-spacer"),G=s("v-btn"),ee=s("v-card-actions"),se=s("v-card"),F=s("v-dialog");return _(),N(F,{modelValue:v.value,"onUpdate:modelValue":V[3]||(V[3]=O=>v.value=O),"max-width":"500",persistent:"","retain-focus":!1},{default:a(()=>[e(se,{rounded:"xl",class:"password-reset-dialog"},{default:a(()=>[e($,{class:"pa-6 pb-4"},{default:a(()=>[t("div",sa,[e(W,{icon:"mdi-lock-reset",color:"primary",class:"me-3",size:"28"}),t("div",null,[V[4]||(V[4]=t("h3",{class:"text-h5 font-weight-bold"},"Reset Password",-1)),t("p",oa," Set a new password for "+y(p.userName),1)])])]),_:1}),e(b,{class:"pa-6 pt-2"},{default:a(()=>[e(d,{ref_key:"formRef",ref:w,modelValue:I.value,"onUpdate:modelValue":V[2]||(V[2]=O=>I.value=O),onSubmit:_e(n,["prevent"])},{default:a(()=>[e(R,{modelValue:x.value,"onUpdate:modelValue":V[0]||(V[0]=O=>x.value=O),label:"New Password",type:"password",variant:"outlined",rules:l,required:"",class:"mb-4"},null,8,["modelValue"]),e(R,{modelValue:k.value,"onUpdate:modelValue":V[1]||(V[1]=O=>k.value=O),label:"Confirm Password",type:"password",variant:"outlined",rules:o,required:""},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),e(ee,{class:"pa-6 pt-0"},{default:a(()=>[e(q),e(G,{variant:"text",onClick:c,disabled:p.loading,class:"me-2"},{default:a(()=>V[5]||(V[5]=[U(" Cancel ")])),_:1,__:[5]},8,["disabled"]),e(G,{color:"primary",loading:p.loading,disabled:!I.value,onClick:n},{default:a(()=>V[6]||(V[6]=[U(" Reset Password ")])),_:1,__:[6]},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Fs=ue(na,[["__scopeId","data-v-b177c2f2"]]),la={class:"d-flex align-center"},ia={class:"delete-icon-container me-4"},ra={class:"d-flex align-center mb-3"},ca={class:"text-h6 font-weight-bold"},da={class:"flex-grow-1"},ua={class:"text-h6 font-weight-bold mb-1"},ma={class:"text-body-2 text-on-surface-variant mb-0"},va={key:0,class:"text-body-2 text-on-surface-variant mb-0"},pa={key:0,class:"user-stats"},fa={class:"d-flex justify-space-between text-body-2"},_a={class:"text-center"},ga={class:"text-h6 font-weight-bold text-primary"},ba={class:"text-center"},ha={class:"text-h6 font-weight-bold text-success"},wa={class:"text-center"},ya={class:"text-h6 font-weight-bold text-info"},xa={class:"consequences-section"},ka={class:"text-h6 font-weight-bold mb-3 d-flex align-center"},$a={class:"consequences-list"},Ca={class:"consequence-item d-flex align-start mb-3"},Ia={class:"consequence-item d-flex align-start mb-3"},Pa={class:"consequence-item d-flex align-start mb-3"},Aa={class:"consequence-item d-flex align-start"},Sa=be({__name:"UserDeleteDialog",props:{modelValue:{type:Boolean},user:{},loading:{type:Boolean,default:!1},showStats:{type:Boolean,default:!0}},emits:["update:modelValue","confirm","cancel"],setup(g,{emit:z}){const m=g,C=z,w=E({get:()=>m.modelValue,set:l=>C("update:modelValue",l)}),I=l=>{if(!l)return"Unknown User";const o=l.first_name||"",n=l.last_name||"";return`${o} ${n}`.trim()||l.username||l.email||"Unknown User"},x=l=>{if(!l)return"U";const o=l.first_name||"",n=l.last_name||"";return o&&n?`${o.charAt(0)}${n.charAt(0)}`.toUpperCase():o?o.charAt(0).toUpperCase():n?n.charAt(0).toUpperCase():l.username?l.username.charAt(0).toUpperCase():l.email?l.email.charAt(0).toUpperCase():"U"},k=()=>{C("confirm")},v=()=>{C("cancel"),w.value=!1};return(l,o)=>{const n=s("v-icon"),c=s("v-card-title"),P=s("v-avatar"),p=s("v-divider"),V=s("v-card-text"),W=s("v-card"),$=s("v-alert"),R=s("v-spacer"),d=s("v-btn"),b=s("v-card-actions"),q=s("v-dialog");return _(),N(q,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=G=>w.value=G),"max-width":"600",persistent:"","retain-focus":!1},{default:a(()=>[e(W,{rounded:"xl",class:"user-delete-dialog"},{default:a(()=>[e(c,{class:"pa-6 pb-4"},{default:a(()=>[t("div",la,[t("div",ia,[e(n,{icon:"mdi-account-remove",color:"error",size:"32"})]),o[1]||(o[1]=t("div",{class:"flex-grow-1"},[t("h3",{class:"text-h5 font-weight-bold text-error mb-1"},"Delete User Account"),t("p",{class:"text-body-2 text-on-surface-variant mb-0"}," This action will deactivate the user account while preserving all data ")],-1))])]),_:1}),e(V,{class:"pa-6 pt-2"},{default:a(()=>[e(W,{variant:"outlined",class:"mb-4 user-info-card",rounded:"lg"},{default:a(()=>[e(V,{class:"pa-4"},{default:a(()=>{var G,ee,se,F,O,te,X,L,H;return[t("div",ra,[e(P,{image:(G=l.user)==null?void 0:G.profile_pic,color:"primary",size:"48",class:"me-3"},{default:a(()=>[t("span",ca,y(x(l.user)),1)]),_:1},8,["image"]),t("div",da,[t("h4",ua,y(I(l.user)),1),t("p",ma,y((ee=l.user)==null?void 0:ee.email),1),(se=l.user)!=null&&se.username?(_(),B("p",va," @"+y(l.user.username),1)):S("",!0)])]),l.showStats?(_(),B("div",pa,[e(p,{class:"mb-3"}),t("div",fa,[t("div",_a,[t("div",ga,y(((O=(F=l.user)==null?void 0:F.pets)==null?void 0:O.length)||0),1),o[2]||(o[2]=t("div",{class:"text-on-surface-variant"},"Pets",-1))]),t("div",ba,[t("div",ha,y(((X=(te=l.user)==null?void 0:te.orders)==null?void 0:X.length)||0),1),o[3]||(o[3]=t("div",{class:"text-on-surface-variant"},"Orders",-1))]),t("div",wa,[t("div",ya,y(((H=(L=l.user)==null?void 0:L.appointments)==null?void 0:H.length)||0),1),o[4]||(o[4]=t("div",{class:"text-on-surface-variant"},"Appointments",-1))])])])):S("",!0)]}),_:1})]),_:1}),e($,{type:"warning",variant:"tonal",class:"mb-4",rounded:"lg"},{prepend:a(()=>[e(n,{icon:"mdi-shield-check"})]),default:a(()=>[o[5]||(o[5]=t("div",{class:"text-body-2"},[t("strong",null,"Soft Delete Process:"),U(" This is a safe, reversible action that preserves data integrity. ")],-1))]),_:1,__:[5]}),t("div",xa,[t("h4",ka,[e(n,{icon:"mdi-information",class:"me-2",color:"primary"}),o[6]||(o[6]=U(" What happens when you delete this user? "))]),t("div",$a,[t("div",Ca,[e(n,{icon:"mdi-eye-off",color:"warning",class:"me-3 mt-1",size:"20"}),o[7]||(o[7]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Account Deactivation"),t("div",{class:"text-body-2 text-on-surface-variant"}," User will be hidden from all admin lists and searches ")],-1))]),t("div",Ia,[e(n,{icon:"mdi-lock",color:"error",class:"me-3 mt-1",size:"20"}),o[8]||(o[8]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Login Access Disabled"),t("div",{class:"text-body-2 text-on-surface-variant"}," User will no longer be able to log into their account ")],-1))]),t("div",Pa,[e(n,{icon:"mdi-database-check",color:"success",class:"me-3 mt-1",size:"20"}),o[9]||(o[9]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Data Preservation"),t("div",{class:"text-body-2 text-on-surface-variant"}," All user data, pets, orders, and appointments remain intact for audit purposes ")],-1))]),t("div",Aa,[e(n,{icon:"mdi-restore",color:"info",class:"me-3 mt-1",size:"20"}),o[10]||(o[10]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Reversible Action"),t("div",{class:"text-body-2 text-on-surface-variant"}," Account can be reactivated by database administrators if needed ")],-1))])])])]),_:1}),e(b,{class:"pa-6 pt-0"},{default:a(()=>[e(R),e(d,{variant:"text",onClick:v,disabled:l.loading,class:"me-2",size:"large"},{default:a(()=>o[11]||(o[11]=[U(" Cancel ")])),_:1,__:[11]},8,["disabled"]),e(d,{color:"error",loading:l.loading,onClick:k,variant:"elevated",size:"large","prepend-icon":"mdi-delete"},{default:a(()=>o[12]||(o[12]=[U(" Delete User Account ")])),_:1,__:[12]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Zs=ue(Sa,[["__scopeId","data-v-c322bc01"]]),Ua={class:"d-flex align-center"},Va={class:"form-icon-container me-4"},Na={class:"flex-grow-1"},za={class:"text-h5 font-weight-bold mb-1"},Da={class:"text-body-2 text-on-surface-variant mb-0"},Ma={class:"d-flex align-center"},ja={class:"text-h6 font-weight-bold"},Ta={class:"flex-grow-1"},Ea={class:"text-h6 font-weight-bold mb-1"},Ra={class:"text-body-2 text-on-surface-variant mb-0"},Oa={key:0,class:"text-body-2 text-on-surface-variant mb-0"},Ba={class:"section-header mb-4"},La={class:"text-h6 font-weight-bold d-flex align-center"},qa={class:"section-header mb-4 mt-2"},Ga={class:"text-h6 font-weight-bold d-flex align-center"},Fa={class:"section-header mb-4 mt-2"},Za={class:"text-h6 font-weight-bold d-flex align-center"},Wa={class:"text-body-2"},Ha=be({__name:"UserFormDialog",props:{modelValue:{type:Boolean},user:{default:null},loading:{type:Boolean,default:!1}},emits:["update:modelValue","submit","cancel"],setup(g,{emit:z}){const m=g,C=z,w=j(null),I=j(!1),x=j(!1),k=j(""),v=j({}),l=j({first_name:"",last_name:"",username:"",email:"",password:"",mobile_number:"",bio:""}),o=E({get:()=>m.modelValue,set:d=>C("update:modelValue",d)}),n=E(()=>!!m.user),c={required:[d=>!!d||"This field is required"],email:[d=>!!d||"Email is required",d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)||"Please enter a valid email address"],password:[d=>n.value?!0:!!d||"Password is required for new users",d=>!d&&n.value?!0:d.length>=8||"Password must be at least 8 characters"],username:[d=>!!d||"Username is required",d=>d.length>=3||"Username must be at least 3 characters",d=>/^[a-zA-Z0-9_]+$/.test(d)||"Username can only contain letters, numbers, and underscores"],phone:[d=>d?/^[\+]?[1-9][\d]{0,15}$/.test(d)||"Please enter a valid phone number":!0],maxLength:d=>[b=>b?b.length<=d||`Maximum ${d} characters allowed`:!0]},P=d=>{if(!d)return"Unknown User";const b=d.first_name||"",q=d.last_name||"";return`${b} ${q}`.trim()||d.username||d.email||"Unknown User"},p=d=>{if(!d)return"U";const b=d.first_name||"",q=d.last_name||"";return b&&q?`${b.charAt(0)}${q.charAt(0)}`.toUpperCase():b?b.charAt(0).toUpperCase():q?q.charAt(0).toUpperCase():d.username?d.username.charAt(0).toUpperCase():d.email?d.email.charAt(0).toUpperCase():"U"},V=()=>{m.user&&(l.value={first_name:m.user.first_name||"",last_name:m.user.last_name||"",username:m.user.username||"",email:m.user.email||"",password:"",mobile_number:m.user.mobile_number||"",bio:m.user.bio||""})},W=()=>{l.value={first_name:"",last_name:"",username:"",email:"",password:"",mobile_number:"",bio:""},k.value="",v.value={},w.value&&w.value.resetValidation()},$=async()=>{if(!w.value)return;const{valid:d}=await w.value.validate();d&&(k.value="",C("submit",{...l.value}))},R=()=>{C("cancel"),o.value=!1};return ge(()=>m.user,V,{immediate:!0}),ge(o,d=>{d?V():W()}),(d,b)=>{const q=s("v-icon"),G=s("v-btn"),ee=s("v-card-title"),se=s("v-avatar"),F=s("v-chip"),O=s("v-card-text"),te=s("v-card"),X=s("v-divider"),L=s("v-col"),H=s("v-text-field"),ie=s("v-textarea"),le=s("v-row"),oe=s("v-form"),i=s("v-alert"),u=s("v-spacer"),A=s("v-card-actions"),Z=s("v-dialog");return _(),N(Z,{modelValue:o.value,"onUpdate:modelValue":b[10]||(b[10]=D=>o.value=D),"max-width":"700",persistent:"","retain-focus":!1},{default:a(()=>[e(te,{rounded:"xl",class:"user-form-dialog"},{default:a(()=>[e(ee,{class:"pa-6 pb-4"},{default:a(()=>[t("div",Ua,[t("div",Va,[e(q,{icon:n.value?"mdi-account-edit":"mdi-account-plus",color:n.value?"primary":"success",size:"32"},null,8,["icon","color"])]),t("div",Na,[t("h3",za,y(n.value?"Edit User Account":"Create New User Account"),1),t("p",Da,y(n.value?"Update user profile information and settings":"Add a new user to the system with profile details"),1)]),e(G,{icon:"mdi-close",variant:"text",size:"small",onClick:R,disabled:d.loading,class:"ml-2"},null,8,["disabled"])])]),_:1}),n.value&&d.user?(_(),N(O,{key:0,class:"pa-6 pt-2"},{default:a(()=>[e(te,{variant:"outlined",class:"mb-4 user-context-card",rounded:"lg"},{default:a(()=>[e(O,{class:"pa-4"},{default:a(()=>{var D,me,ve,ae;return[t("div",Ma,[e(se,{image:(D=d.user)==null?void 0:D.profile_pic,color:"primary",size:"48",class:"me-3"},{default:a(()=>[t("span",ja,y(p(d.user)),1)]),_:1},8,["image"]),t("div",Ta,[t("h4",Ea,y(P(d.user)),1),t("p",Ra,y((me=d.user)==null?void 0:me.email),1),(ve=d.user)!=null&&ve.username?(_(),B("p",Oa," @"+y(d.user.username),1)):S("",!0)]),e(F,{color:(ae=d.user)!=null&&ae.profile_visibility?"success":"default",size:"small",variant:"tonal"},{default:a(()=>{var re;return[U(y((re=d.user)!=null&&re.profile_visibility?"Public":"Private"),1)]}),_:1},8,["color"])])]}),_:1})]),_:1})]),_:1})):S("",!0),e(O,{class:ne(["pa-6",{"pt-2":n.value&&d.user,"pt-0":!n.value||!d.user}])},{default:a(()=>[e(oe,{ref_key:"formRef",ref:w,modelValue:I.value,"onUpdate:modelValue":b[8]||(b[8]=D=>I.value=D),onSubmit:_e($,["prevent"])},{default:a(()=>[e(le,null,{default:a(()=>[e(L,{cols:"12"},{default:a(()=>[t("div",Ba,[t("h4",La,[e(q,{icon:"mdi-account",class:"me-2",color:"primary"}),b[11]||(b[11]=U(" Personal Information "))]),e(X,{class:"mt-2"})])]),_:1}),e(L,{cols:"12",md:"6"},{default:a(()=>[e(H,{modelValue:l.value.first_name,"onUpdate:modelValue":b[0]||(b[0]=D=>l.value.first_name=D),label:"First Name",placeholder:"Enter first name",variant:"outlined",rules:c.required,"error-messages":v.value.first_name,required:"",clearable:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(L,{cols:"12",md:"6"},{default:a(()=>[e(H,{modelValue:l.value.last_name,"onUpdate:modelValue":b[1]||(b[1]=D=>l.value.last_name=D),label:"Last Name",placeholder:"Enter last name",variant:"outlined",rules:c.required,"error-messages":v.value.last_name,required:"",clearable:""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(L,{cols:"12",md:"6"},{default:a(()=>[e(H,{modelValue:l.value.username,"onUpdate:modelValue":b[2]||(b[2]=D=>l.value.username=D),label:"Username",placeholder:"Enter unique username",variant:"outlined",rules:c.username,"error-messages":v.value.username,required:"",clearable:"",hint:"Must be unique, 3+ characters, letters/numbers/underscores only","persistent-hint":""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(L,{cols:"12"},{default:a(()=>[t("div",qa,[t("h4",Ga,[e(q,{icon:"mdi-email",class:"me-2",color:"primary"}),b[12]||(b[12]=U(" Account Information "))]),e(X,{class:"mt-2"})])]),_:1}),e(L,{cols:"12",md:"6"},{default:a(()=>[e(H,{modelValue:l.value.email,"onUpdate:modelValue":b[3]||(b[3]=D=>l.value.email=D),label:"Email Address",placeholder:"Enter email address",type:"email",variant:"outlined",rules:c.email,"error-messages":v.value.email,disabled:n.value,required:"",clearable:"",hint:n.value?"Email cannot be changed after account creation":"Will be used for login and notifications","persistent-hint":""},null,8,["modelValue","rules","error-messages","disabled","hint"])]),_:1}),n.value?S("",!0):(_(),N(L,{key:0,cols:"12",md:"6"},{default:a(()=>[e(H,{modelValue:l.value.password,"onUpdate:modelValue":b[4]||(b[4]=D=>l.value.password=D),label:"Password",placeholder:"Enter secure password",type:x.value?"text":"password",variant:"outlined",rules:c.password,"error-messages":v.value.password,required:"","append-inner-icon":x.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":b[5]||(b[5]=D=>x.value=!x.value),hint:"Minimum 8 characters with letters and numbers","persistent-hint":""},null,8,["modelValue","type","rules","error-messages","append-inner-icon"])]),_:1})),e(L,{cols:"12"},{default:a(()=>[t("div",Fa,[t("h4",Za,[e(q,{icon:"mdi-phone",class:"me-2",color:"primary"}),b[13]||(b[13]=U(" Contact Information "))]),e(X,{class:"mt-2"})])]),_:1}),e(L,{cols:"12",md:"6"},{default:a(()=>[e(H,{modelValue:l.value.mobile_number,"onUpdate:modelValue":b[6]||(b[6]=D=>l.value.mobile_number=D),label:"Mobile Number",placeholder:"Enter mobile number",variant:"outlined",rules:c.phone,"error-messages":v.value.mobile_number,type:"tel",clearable:"",hint:"Optional: Include country code (e.g., +1234567890)","persistent-hint":""},null,8,["modelValue","rules","error-messages"])]),_:1}),e(L,{cols:"12"},{default:a(()=>[e(ie,{modelValue:l.value.bio,"onUpdate:modelValue":b[7]||(b[7]=D=>l.value.bio=D),label:"Bio / Description",placeholder:"Enter a brief description about the user (optional)",variant:"outlined",rows:"3",counter:"500",rules:c.maxLength(500),"error-messages":v.value.bio,clearable:"",hint:"Optional: Brief description or notes about the user","persistent-hint":""},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),k.value?(_(),N(i,{key:0,type:"error",variant:"tonal",class:"mt-4",rounded:"lg",closable:"","onClick:close":b[9]||(b[9]=D=>k.value="")},{prepend:a(()=>[e(q,{icon:"mdi-alert-circle"})]),default:a(()=>[t("div",Wa,[b[14]||(b[14]=t("strong",null,"Error:",-1)),U(" "+y(k.value),1)])]),_:1})):S("",!0)]),_:1},8,["class"]),e(A,{class:"pa-6 pt-0"},{default:a(()=>[e(u),e(G,{variant:"text",onClick:R,disabled:d.loading,size:"large"},{default:a(()=>b[15]||(b[15]=[U(" Cancel ")])),_:1,__:[15]},8,["disabled"]),e(G,{color:n.value?"primary":"success",loading:d.loading,disabled:!I.value,onClick:$,variant:"elevated",size:"large","prepend-icon":n.value?"mdi-content-save":"mdi-account-plus"},{default:a(()=>[U(y(n.value?"Save Changes":"Create User"),1)]),_:1},8,["color","loading","disabled","prepend-icon"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ws=ue(Ha,[["__scopeId","data-v-f52a8ff0"]]),Qa={class:"d-flex align-center"},Ja={class:"form-icon-container me-4"},Ka={class:"flex-grow-1"},Ya={class:"text-h5 font-weight-bold mb-1"},Xa={class:"text-body-2 text-on-surface-variant mb-0"},es={class:"d-flex align-center"},ts={class:"flex-grow-1"},as={class:"text-h6 font-weight-bold mb-1"},ss={class:"d-flex align-center mb-1"},os={key:0,class:"text-body-2 text-on-surface-variant mb-0"},ns={class:"section-header mb-4"},ls={class:"text-h6 font-weight-bold d-flex align-center"},is={class:"section-header mb-4 mt-2"},rs={class:"text-h6 font-weight-bold d-flex align-center"},cs={class:"text-caption"},ds={class:"text-body-2"},us={class:"text-body-2"},ms={name:"SimplePetFormDialog"},vs=Object.assign(ms,{props:{modelValue:Boolean,pet:Object,loading:Boolean},emits:["update:modelValue","submit","cancel"],setup(g,{emit:z}){const m=g,C=z;Ke();const w=j(null),I=j(!1),x=j([]),k=j(!1),v=j(""),l=j(!1),o=j({name:"",type:"",user_id:""}),n=j(!1),c=j({name:"",type:"",gender:"",user_id:""}),P=E({get:()=>m.modelValue,set:i=>C("update:modelValue",i)}),p=E(()=>!!m.pet),V=E(()=>Object.values(o.value).some(i=>i!=="")),W=[{title:"Dog",value:"Dog"},{title:"Cat",value:"Cat"}],$=[{title:"Male",value:"Male"},{title:"Female",value:"Female"}],R={petName:[i=>!!i||"Pet name is required",i=>i&&i.length>=2||"Pet name must be at least 2 characters",i=>i&&i.length<=50||"Pet name must be less than 50 characters",i=>i&&/^[a-zA-Z0-9\s\-']+$/.test(i)||"Pet name contains invalid characters"],petType:[i=>!!i||"Pet type is required"],owner:[i=>!!i||"Pet owner is required"]},d=i=>{if(!i)return"Unknown Owner";const u=i.first_name||"",A=i.last_name||"";return`${u} ${A}`.trim()||i.username||"Unknown Owner"},b=i=>{if(!i)return"U";const u=i.first_name||"",A=i.last_name||"";return u&&A?`${u.charAt(0)}${A.charAt(0)}`.toUpperCase():u?u.charAt(0).toUpperCase():A?A.charAt(0).toUpperCase():i.username?i.username.charAt(0).toUpperCase():"U"},q=i=>{if(!i)return"Unknown Owner";const u=i.first_name||"",A=i.last_name||"";return`${u} ${A}`.trim()||i.username||"Unknown Owner"},G=i=>{switch(i==null?void 0:i.toLowerCase()){case"dog":return"mdi-dog";case"cat":return"mdi-cat";default:return"mdi-paw"}},ee=i=>{switch(i==null?void 0:i.toLowerCase()){case"dog":return"success";case"cat":return"warning";default:return"primary"}},se=i=>{switch(i==null?void 0:i.toLowerCase()){case"dog":return"success";case"cat":return"orange";default:return"primary"}},F=i=>{const u=c.value[i],A=R[i==="name"?"petName":i==="type"?"petType":i==="user_id"?"owner":null];if(A){for(const Z of A){const D=Z(u);if(D!==!0){o.value[i]=D;return}}o.value[i]=""}},O=i=>{o.value[i]="",n.value=!0},te=async()=>{k.value=!0;try{const i=await Me.getUsers(1,100,"");i.data&&(x.value=i.data.map(u=>({id:u.id,username:u.username,first_name:u.first_name,last_name:u.last_name,display_name:q(u)})))}catch(i){console.error("Error loading owners:",i),v.value="Failed to load pet owners. Please try again."}finally{k.value=!1}},X=async i=>{if(i&&i.length>2){k.value=!0;try{const u=await Me.getUsers(1,50,i);u.data&&(x.value=u.data.map(A=>({id:A.id,username:A.username,first_name:A.first_name,last_name:A.last_name,display_name:q(A)})))}catch(u){console.error("Error searching owners:",u),v.value="Failed to search owners. Please try again."}finally{k.value=!1}}},L=()=>{m.pet&&(c.value={name:m.pet.name||"",type:m.pet.type||"",gender:m.pet.gender||"",user_id:m.pet.user_id||""},n.value=!1)},H=()=>{c.value={name:"",type:"",gender:"",user_id:""},o.value={name:"",type:"",user_id:""},v.value="",l.value=!1,n.value=!1,w.value&&w.value.resetValidation()},ie=async()=>{if(!w.value)return!1;F("name"),F("type"),p.value||F("user_id");const{valid:i}=await w.value.validate();return i&&!V.value},le=async()=>{if(v.value="",l.value=!1,!await ie()){v.value="Please fix the validation errors before submitting.";return}try{C("submit",{...c.value}),l.value=!0,n.value=!1,setTimeout(()=>{l.value=!1,P.value=!1},1500)}catch(u){console.error("Form submission error:",u),v.value="Failed to save pet. Please try again."}},oe=async()=>{n.value&&!await new Promise(u=>{const A=confirm("You have unsaved changes. Are you sure you want to cancel?");u(A)})||(C("cancel"),P.value=!1)};return ge(()=>m.pet,L,{immediate:!0}),ge(P,i=>{i?(L(),p.value||te()):H()}),we(()=>{p.value||te()}),(i,u)=>{const A=s("v-icon"),Z=s("v-btn"),D=s("v-card-title"),me=s("v-avatar"),ve=s("v-chip"),ae=s("v-card-text"),re=s("v-card"),r=s("v-divider"),f=s("v-col"),M=s("v-text-field"),J=s("v-list-item"),Q=s("v-select"),K=s("v-list-item-subtitle"),fe=s("v-list-item-title"),Ie=s("v-autocomplete"),ye=s("v-row"),ce=s("v-form"),he=s("v-alert"),xe=s("v-spacer"),ke=s("v-card-actions"),Pe=s("v-dialog");return _(),N(Pe,{modelValue:P.value,"onUpdate:modelValue":u[13]||(u[13]=T=>P.value=T),"max-width":"700",persistent:"","retain-focus":!1},{default:a(()=>[e(re,{rounded:"xl",class:"pet-form-dialog",elevation:"8"},{default:a(()=>[e(D,{class:"pa-6 pb-4"},{default:a(()=>[t("div",Qa,[t("div",Ja,[e(A,{icon:p.value?"mdi-paw":"mdi-plus-circle",color:p.value?"primary":"success",size:"32"},null,8,["icon","color"])]),t("div",Ka,[t("h3",Ya,y(p.value?"Edit Pet Information":"Add New Pet"),1),t("p",Xa,y(p.value?"Update pet details and information":"Register a new pet in the system"),1)]),e(Z,{icon:"mdi-close",variant:"text",size:"small",onClick:oe,disabled:g.loading,class:"ml-2"},null,8,["disabled"])])]),_:1}),p.value&&g.pet?(_(),N(ae,{key:0,class:"pa-6 pt-2"},{default:a(()=>[e(re,{variant:"outlined",class:"mb-4 pet-context-card",rounded:"lg"},{default:a(()=>[e(ae,{class:"pa-4"},{default:a(()=>[t("div",es,[e(me,{color:se(g.pet.type),size:"56",class:"me-4"},{default:a(()=>[e(A,{icon:G(g.pet.type),size:"28",color:"white"},null,8,["icon"])]),_:1},8,["color"]),t("div",ts,[t("h4",as,y(g.pet.name),1),t("div",ss,[e(ve,{color:ee(g.pet.type),size:"small",variant:"tonal",class:"me-2"},{default:a(()=>[U(y(g.pet.type||"Unknown"),1)]),_:1},8,["color"]),g.pet.gender?(_(),N(ve,{key:0,color:"info",size:"small",variant:"tonal"},{default:a(()=>[e(A,{icon:g.pet.gender==="Male"?"mdi-gender-male":"mdi-gender-female",size:"14",class:"me-1"},null,8,["icon"]),U(" "+y(g.pet.gender),1)]),_:1})):S("",!0)]),g.pet.owner?(_(),B("p",os,[e(A,{icon:"mdi-account",size:"14",class:"me-1"}),U(" Owner: "+y(d(g.pet.owner)),1)])):S("",!0)])])]),_:1})]),_:1})]),_:1})):S("",!0),e(ae,{class:ne(["pa-6",{"pt-2":p.value&&g.pet,"pt-0":!p.value||!g.pet}])},{default:a(()=>[e(ce,{ref_key:"formRef",ref:w,modelValue:I.value,"onUpdate:modelValue":u[11]||(u[11]=T=>I.value=T),onSubmit:_e(le,["prevent"])},{default:a(()=>[e(ye,null,{default:a(()=>[e(f,{cols:"12"},{default:a(()=>[t("div",ns,[t("h4",ls,[e(A,{icon:"mdi-paw",class:"me-2",color:"primary"}),u[14]||(u[14]=U(" Pet Information "))]),e(r,{class:"mt-2"})])]),_:1}),e(f,{cols:"12"},{default:a(()=>[e(M,{modelValue:c.value.name,"onUpdate:modelValue":u[0]||(u[0]=T=>c.value.name=T),label:"Pet Name",placeholder:"Enter your pet's name",variant:"outlined",rules:R.petName,"error-messages":o.value.name,required:"",clearable:"",onBlur:u[1]||(u[1]=T=>F("name")),onInput:u[2]||(u[2]=T=>O("name"))},{"prepend-inner":a(()=>[e(A,{icon:"mdi-tag",size:"20"})]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),e(f,{cols:"12",md:"6"},{default:a(()=>[e(Q,{modelValue:c.value.type,"onUpdate:modelValue":[u[3]||(u[3]=T=>c.value.type=T),u[5]||(u[5]=T=>O("type"))],label:"Pet Type",items:W,variant:"outlined",rules:R.petType,"error-messages":o.value.type,clearable:"",onBlur:u[4]||(u[4]=T=>F("type"))},{"prepend-inner":a(()=>[e(A,{icon:G(c.value.type),size:"20"},null,8,["icon"])]),item:a(({props:T,item:de})=>[e(J,ze(De(T)),{prepend:a(()=>[e(A,{icon:G(de.value),color:ee(de.value)},null,8,["icon","color"])]),_:2},1040)]),_:1},8,["modelValue","rules","error-messages"])]),_:1}),e(f,{cols:"12",md:"6"},{default:a(()=>[e(Q,{modelValue:c.value.gender,"onUpdate:modelValue":[u[6]||(u[6]=T=>c.value.gender=T),u[7]||(u[7]=T=>O("gender"))],label:"Gender",items:$,variant:"outlined",clearable:""},{"prepend-inner":a(()=>[e(A,{icon:c.value.gender==="Male"?"mdi-gender-male":c.value.gender==="Female"?"mdi-gender-female":"mdi-help",size:"20"},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),p.value?S("",!0):(_(),N(f,{key:0,cols:"12"},{default:a(()=>[t("div",is,[t("h4",rs,[e(A,{icon:"mdi-account",class:"me-2",color:"primary"}),u[15]||(u[15]=U(" Owner Information "))]),e(r,{class:"mt-2"})])]),_:1})),p.value?S("",!0):(_(),N(f,{key:1,cols:"12"},{default:a(()=>[e(Ie,{modelValue:c.value.user_id,"onUpdate:modelValue":[u[8]||(u[8]=T=>c.value.user_id=T),u[10]||(u[10]=T=>O("user_id"))],label:"Pet Owner",items:x.value,"item-title":"display_name","item-value":"id",variant:"outlined",rules:R.owner,"error-messages":o.value.user_id,loading:k.value,required:"",clearable:"",hint:"Search and select the pet owner from registered users","persistent-hint":"","onUpdate:search":X,onBlur:u[9]||(u[9]=T=>F("user_id")),"custom-filter":()=>!0},{"prepend-inner":a(()=>[e(A,{icon:"mdi-account-search",size:"20"})]),selection:a(({item:T})=>[t("span",null,y(T.raw.display_name),1)]),item:a(({props:T,item:de})=>[e(J,ze(De(T)),{prepend:a(()=>[e(me,{size:"32",color:"primary"},{default:a(()=>[t("span",cs,y(b(de.raw)),1)]),_:2},1024)]),default:a(()=>[de.raw.username?(_(),N(K,{key:0},{default:a(()=>[U(" @"+y(de.raw.username),1)]),_:2},1024)):S("",!0)]),_:2},1040)]),"no-data":a(()=>[e(J,null,{default:a(()=>[e(fe,null,{default:a(()=>u[16]||(u[16]=[U(" No owners found. Try a different search term. ")])),_:1,__:[16]})]),_:1})]),_:1},8,["modelValue","items","rules","error-messages","loading"])]),_:1}))]),_:1})]),_:1},8,["modelValue"]),v.value?(_(),N(he,{key:0,type:"error",variant:"tonal",class:"mt-4",rounded:"lg",closable:"","onClick:close":u[12]||(u[12]=T=>v.value="")},{prepend:a(()=>[e(A,{icon:"mdi-alert-circle"})]),default:a(()=>[t("div",ds,[u[17]||(u[17]=t("strong",null,"Error:",-1)),U(" "+y(v.value),1)])]),_:1})):S("",!0),l.value?(_(),N(he,{key:1,type:"success",variant:"tonal",class:"mt-4",rounded:"lg"},{prepend:a(()=>[e(A,{icon:"mdi-check-circle"})]),default:a(()=>[t("div",us,[u[18]||(u[18]=t("strong",null,"Success:",-1)),U(" Pet "+y(p.value?"updated":"added")+" successfully! ",1)])]),_:1})):S("",!0)]),_:1},8,["class"]),e(ke,{class:"pa-6 pt-0"},{default:a(()=>[e(xe),e(Z,{variant:"text",onClick:oe,disabled:g.loading,size:"large"},{default:a(()=>u[19]||(u[19]=[U(" Cancel ")])),_:1,__:[19]},8,["disabled"]),e(Z,{color:p.value?"primary":"success",loading:g.loading,disabled:!I.value||V.value,onClick:le,variant:"elevated",size:"large","prepend-icon":p.value?"mdi-content-save":"mdi-plus"},{default:a(()=>[U(y(p.value?"Save Changes":"Add Pet"),1)]),_:1},8,["color","loading","disabled","prepend-icon"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Hs=ue(vs,[["__scopeId","data-v-f25c9b83"]]),ps={class:"d-flex align-center"},fs={class:"delete-icon-container me-4"},_s={class:"d-flex align-center mb-3"},gs={class:"flex-grow-1"},bs={class:"text-h6 font-weight-bold mb-1"},hs={class:"text-body-2 text-on-surface-variant mb-0"},ws={key:0,class:"text-body-2 text-on-surface-variant mb-0"},ys={class:"d-flex flex-column align-end"},xs={key:0,class:"pet-stats"},ks={class:"d-flex justify-space-between text-body-2"},$s={class:"text-center"},Cs={class:"text-h6 font-weight-bold text-info"},Is={class:"text-center"},Ps={class:"text-h6 font-weight-bold text-success"},As={class:"text-center"},Ss={class:"text-h6 font-weight-bold text-primary"},Us={class:"consequences-section"},Vs={class:"text-h6 font-weight-bold mb-3 d-flex align-center"},Ns={class:"consequences-list"},zs={class:"consequence-item d-flex align-start mb-3"},Ds={class:"consequence-item d-flex align-start mb-3"},Ms={class:"consequence-item d-flex align-start mb-3"},js={class:"consequence-item d-flex align-start"},Ts={name:"PetDeleteDialog"},Es=Object.assign(Ts,{props:{modelValue:Boolean,pet:Object,loading:Boolean,showStats:Boolean},emits:["update:modelValue","confirm","cancel"],setup(g,{emit:z}){const m=g,C=z,w=E({get:()=>m.modelValue,set:n=>C("update:modelValue",n)}),I=n=>{if(!n)return"Unknown Owner";const c=n.first_name||"",P=n.last_name||"";return`${c} ${P}`.trim()||n.username||"Unknown Owner"},x=n=>{switch(n){case"active":return"success";case"inactive":return"default";case"medical_care":return"warning";case"lost":return"error";case"deceased":return"error";default:return"success"}},k=n=>{switch(n){case"up_to_date":return"success";case"overdue":return"error";case"partial":return"warning";case"unknown":return"default";default:return"success"}},v=n=>{switch(n){case"up_to_date":return"Up to Date";case"overdue":return"Overdue";case"partial":return"Partial";case"unknown":return"Unknown";default:return"Up to Date"}},l=()=>{C("confirm")},o=()=>{C("cancel"),w.value=!1};return(n,c)=>{const P=s("v-icon"),p=s("v-card-title"),V=s("v-avatar"),W=s("v-chip"),$=s("v-divider"),R=s("v-card-text"),d=s("v-card"),b=s("v-alert"),q=s("v-spacer"),G=s("v-btn"),ee=s("v-card-actions"),se=s("v-dialog");return _(),N(se,{modelValue:w.value,"onUpdate:modelValue":c[0]||(c[0]=F=>w.value=F),"max-width":"600",persistent:"","retain-focus":!1},{default:a(()=>[e(d,{rounded:"xl",class:"pet-delete-dialog"},{default:a(()=>[e(p,{class:"pa-6 pb-4"},{default:a(()=>[t("div",ps,[t("div",fs,[e(P,{icon:"mdi-paw-off",color:"error",size:"32"})]),c[1]||(c[1]=t("div",{class:"flex-grow-1"},[t("h3",{class:"text-h5 font-weight-bold text-error mb-1"},"Delete Pet Record"),t("p",{class:"text-body-2 text-on-surface-variant mb-0"}," This action will deactivate the pet record while preserving all data ")],-1))])]),_:1}),e(R,{class:"pa-6 pt-2"},{default:a(()=>[e(d,{variant:"outlined",class:"mb-4 pet-info-card",rounded:"lg"},{default:a(()=>[e(R,{class:"pa-4"},{default:a(()=>{var F,O,te,X,L,H,ie,le,oe,i,u,A;return[t("div",_s,[e(V,{image:(F=g.pet)==null?void 0:F.profile_pic,color:"primary",size:"48",class:"me-3"},{default:a(()=>[e(P,{icon:"mdi-paw",size:"24"})]),_:1},8,["image"]),t("div",gs,[t("h4",bs,y((O=g.pet)==null?void 0:O.name),1),t("p",hs,y((te=g.pet)==null?void 0:te.breed)+" "+y((X=g.pet)==null?void 0:X.type)+"  "+y((L=g.pet)==null?void 0:L.gender),1),(H=g.pet)!=null&&H.owner?(_(),B("p",ws," Owner: "+y(I(g.pet.owner)),1)):S("",!0)]),t("div",ys,[e(W,{color:x((ie=g.pet)==null?void 0:ie.status),size:"small",variant:"tonal",class:"mb-1"},{default:a(()=>{var Z;return[U(y(((Z=g.pet)==null?void 0:Z.status)||"Active"),1)]}),_:1},8,["color"]),e(W,{color:k((le=g.pet)==null?void 0:le.vaccination_status),size:"small",variant:"tonal"},{default:a(()=>{var Z;return[U(y(v((Z=g.pet)==null?void 0:Z.vaccination_status)),1)]}),_:1},8,["color"])])]),g.showStats&&g.pet?(_(),B("div",xs,[e($,{class:"mb-3"}),t("div",ks,[t("div",$s,[t("div",Cs,y(((oe=g.pet)==null?void 0:oe.age)||"N/A"),1),c[2]||(c[2]=t("div",{class:"text-on-surface-variant"},"Age (years)",-1))]),t("div",Is,[t("div",Ps,y(((i=g.pet)==null?void 0:i.weight)||"N/A"),1),c[3]||(c[3]=t("div",{class:"text-on-surface-variant"},"Weight (kg)",-1))]),t("div",As,[t("div",Ss,y(((A=(u=g.pet)==null?void 0:u.appointments)==null?void 0:A.length)||0),1),c[4]||(c[4]=t("div",{class:"text-on-surface-variant"},"Appointments",-1))])])])):S("",!0)]}),_:1})]),_:1}),e(b,{type:"warning",variant:"tonal",class:"mb-4",rounded:"lg"},{prepend:a(()=>[e(P,{icon:"mdi-shield-check"})]),default:a(()=>[c[5]||(c[5]=t("div",{class:"text-body-2"},[t("strong",null,"Soft Delete Process:"),U(" This is a safe, reversible action that preserves data integrity. ")],-1))]),_:1,__:[5]}),t("div",Us,[t("h4",Vs,[e(P,{icon:"mdi-information",class:"me-2",color:"primary"}),c[6]||(c[6]=U(" What happens when you delete this pet record? "))]),t("div",Ns,[t("div",zs,[e(P,{icon:"mdi-eye-off",color:"warning",class:"me-3 mt-1",size:"20"}),c[7]||(c[7]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Record Deactivation"),t("div",{class:"text-body-2 text-on-surface-variant"}," Pet will be hidden from all admin lists and searches ")],-1))]),t("div",Ds,[e(P,{icon:"mdi-calendar-remove",color:"error",class:"me-3 mt-1",size:"20"}),c[8]||(c[8]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Appointment Restrictions"),t("div",{class:"text-body-2 text-on-surface-variant"}," No new appointments can be scheduled for this pet ")],-1))]),t("div",Ms,[e(P,{icon:"mdi-database-check",color:"success",class:"me-3 mt-1",size:"20"}),c[9]||(c[9]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Data Preservation"),t("div",{class:"text-body-2 text-on-surface-variant"}," All pet data, medical records, and appointment history remain intact for audit purposes ")],-1))]),t("div",js,[e(P,{icon:"mdi-restore",color:"info",class:"me-3 mt-1",size:"20"}),c[10]||(c[10]=t("div",null,[t("div",{class:"text-body-1 font-weight-medium"},"Reversible Action"),t("div",{class:"text-body-2 text-on-surface-variant"}," Pet record can be reactivated by database administrators if needed ")],-1))])])])]),_:1}),e(ee,{class:"pa-6 pt-0"},{default:a(()=>[e(q),e(G,{variant:"text",onClick:o,disabled:g.loading,class:"me-2",size:"large"},{default:a(()=>c[11]||(c[11]=[U(" Cancel ")])),_:1,__:[11]},8,["disabled"]),e(G,{color:"error",loading:g.loading,onClick:l,variant:"elevated",size:"large","prepend-icon":"mdi-delete"},{default:a(()=>c[12]||(c[12]=[U(" Delete Pet Record ")])),_:1,__:[12]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Qs=ue(Es,[["__scopeId","data-v-a55c2493"]]);export{ct as A,Qs as P,Hs as S,Ws as U,et as _,Zs as a,Fs as b,Gs as c};
//# sourceMappingURL=components-CxTxZpxR.js.map
