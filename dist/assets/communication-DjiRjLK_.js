import{d as Y,r as C,c as q,o as G,a as n,i as k,e as m,w as e,g as t,f as d,b as H,F as K,h as W,n as N,k as o,t as r,j as X,p as ne}from"./vue-vendor-DBH4gaed.js";import{_ as h}from"./admin-p6Pbvhvw.js";const oe={class:"text-h6"},se={class:"text-body-2 text-grey"},ae={class:"text-body-2 text-grey"},ie={class:"message-content"},ue={class:"text-center"},de=Y({__name:"MessagesView",setup(ee){const f=C(""),a=C(null),p=C([]),y=q(()=>{if(!f.value)return p.value;const c=f.value.toLowerCase();return p.value.filter(i=>i.senderName.toLowerCase().includes(c)||i.subject.toLowerCase().includes(c)||i.content.toLowerCase().includes(c))}),U=c=>{a.value=c,c.read||(c.read=!0)},L=()=>{console.log("Reply to message:",a.value)},P=()=>{console.log("Delete message:",a.value)},T=c=>new Date(c).toLocaleDateString(),z=async()=>{p.value=[{id:1,senderName:"John Doe",senderEmail:"john@example.com",subject:"Question about my pet appointment",content:"Hello, I have a question about my upcoming appointment for my dog Buddy...",read:!1,createdAt:"2024-01-15T10:00:00Z"},{id:2,senderName:"Jane Smith",senderEmail:"jane@example.com",subject:"Product inquiry",content:"Hi, I would like to know more about the premium dog food you have...",read:!0,createdAt:"2024-01-14T15:30:00Z"}]};return G(()=>{z()}),(c,i)=>{const M=n("v-col"),I=n("v-row"),s=n("v-text-field"),l=n("v-card-title"),_=n("v-avatar"),b=n("v-list-item-avatar"),V=n("v-list-item-title"),A=n("v-list-item-subtitle"),S=n("v-list-item-content"),g=n("v-chip"),O=n("v-list-item-action"),$=n("v-list-item"),x=n("v-list"),w=n("v-card"),j=n("v-spacer"),D=n("v-icon"),R=n("v-btn"),B=n("v-divider"),Z=n("v-card-text"),J=n("v-container");return m(),k(J,{fluid:""},{default:e(()=>[t(I,null,{default:e(()=>[t(M,{cols:"12"},{default:e(()=>i[1]||(i[1]=[d("h1",{class:"text-h4 mb-6"},"Messages",-1)])),_:1,__:[1]})]),_:1}),t(I,null,{default:e(()=>[t(M,{cols:"12",md:"4"},{default:e(()=>[t(w,null,{default:e(()=>[t(l,null,{default:e(()=>[t(s,{modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=v=>f.value=v),"append-icon":"mdi-magnify",label:"Search messages...","single-line":"","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),t(x,null,{default:e(()=>[(m(!0),H(K,null,W(y.value,v=>{var E;return m(),k($,{key:v.id,onClick:Q=>U(v),class:N({"v-list-item--active":((E=a.value)==null?void 0:E.id)===v.id})},{default:e(()=>[t(b,null,{default:e(()=>[t(_,{color:"primary"},{default:e(()=>[o(r(v.senderName.charAt(0)),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:e(()=>[t(V,null,{default:e(()=>[o(r(v.senderName),1)]),_:2},1024),t(A,null,{default:e(()=>[o(r(v.subject),1)]),_:2},1024),t(A,{class:"text-caption"},{default:e(()=>[o(r(T(v.createdAt)),1)]),_:2},1024)]),_:2},1024),t(O,null,{default:e(()=>[v.read?X("",!0):(m(),k(g,{key:0,color:"primary",small:"","text-color":"white"},{default:e(()=>i[2]||(i[2]=[o(" New ")])),_:1,__:[2]}))]),_:2},1024)]),_:2},1032,["onClick","class"])}),128))]),_:1})]),_:1})]),_:1}),t(M,{cols:"12",md:"8"},{default:e(()=>[a.value?(m(),k(w,{key:0,class:"fill-height"},{default:e(()=>[t(l,null,{default:e(()=>[d("div",null,[d("div",oe,r(a.value.subject),1),d("div",se," From: "+r(a.value.senderName)+" ("+r(a.value.senderEmail)+") ",1),d("div",ae,r(T(a.value.createdAt)),1)]),t(j),t(R,{icon:"",onClick:L},{default:e(()=>[t(D,null,{default:e(()=>i[3]||(i[3]=[o("mdi-reply")])),_:1,__:[3]})]),_:1}),t(R,{icon:"",onClick:P},{default:e(()=>[t(D,null,{default:e(()=>i[4]||(i[4]=[o("mdi-delete")])),_:1,__:[4]})]),_:1})]),_:1}),t(B),t(Z,null,{default:e(()=>[d("div",ie,r(a.value.content),1)]),_:1})]),_:1})):(m(),k(w,{key:1,class:"fill-height d-flex align-center justify-center"},{default:e(()=>[d("div",ue,[t(D,{size:"64",color:"grey"},{default:e(()=>i[5]||(i[5]=[o("mdi-message-outline")])),_:1,__:[5]}),i[6]||(i[6]=d("div",{class:"text-h6 mt-4"},"Select a message",-1)),i[7]||(i[7]=d("div",{class:"text-body-2 text-grey"},"Choose a message from the list to view its content",-1))])]),_:1}))]),_:1})]),_:1})]),_:1})}}}),re=h(de,[["__scopeId","data-v-ce0725a8"]]),ge=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"})),_e={class:"d-flex justify-space-between align-center mb-6"},ce={key:0,class:"text-center pa-8"},ve={class:"text-center pa-8"},me=Y({__name:"NotificationsView",setup(ee){const f=C(""),a=C("all"),p=C(!1),y=C([]),U=q(()=>y.value.filter(s=>!s.read).length),L=q(()=>{let s=y.value;if(a.value!=="all"&&(a.value==="unread"?s=s.filter(l=>!l.read):s=s.filter(l=>l.type===a.value)),f.value){const l=f.value.toLowerCase();s=s.filter(_=>_.title.toLowerCase().includes(l)||_.message.toLowerCase().includes(l))}return s.sort((l,_)=>new Date(_.createdAt).getTime()-new Date(l.createdAt).getTime())}),P=s=>{switch(s){case"system":return"mdi-cog";case"user":return"mdi-account";case"order":return"mdi-shopping";case"appointment":return"mdi-calendar";default:return"mdi-bell"}},T=s=>{switch(s){case"system":return"info";case"user":return"success";case"order":return"warning";case"appointment":return"primary";default:return"grey"}},z=s=>{s.read=!0},c=()=>{y.value.forEach(s=>s.read=!0)},i=s=>{const l=y.value.findIndex(_=>_.id===s.id);l>-1&&y.value.splice(l,1)},M=s=>new Date(s).toLocaleString(),I=async()=>{y.value=[{id:1,title:"New Order Received",message:"Order #1234 has been placed by John Doe",type:"order",read:!1,createdAt:"2024-01-15T10:00:00Z"},{id:2,title:"System Maintenance",message:"Scheduled maintenance will occur tonight at 2 AM",type:"system",read:!0,createdAt:"2024-01-14T15:30:00Z"}]};return G(()=>{I()}),(s,l)=>{const _=n("v-btn"),b=n("v-icon"),V=n("v-col"),A=n("v-row"),S=n("v-card-title"),g=n("v-list-item-title"),O=n("v-chip"),$=n("v-list-item-action"),x=n("v-list-item"),w=n("v-list"),j=n("v-card"),D=n("v-text-field"),R=n("v-list-item-avatar"),B=n("v-list-item-subtitle"),Z=n("v-list-item-content"),J=n("v-menu"),v=n("v-card-text"),E=n("v-spacer"),Q=n("v-card-actions"),te=n("v-dialog"),le=n("v-container");return m(),k(le,{fluid:""},{default:e(()=>[t(A,null,{default:e(()=>[t(V,{cols:"12"},{default:e(()=>[d("div",_e,[l[12]||(l[12]=d("h1",{class:"text-h4"},"Notifications",-1)),d("div",null,[t(_,{text:"",onClick:c,class:"mr-2"},{default:e(()=>l[9]||(l[9]=[o(" Mark All as Read ")])),_:1,__:[9]}),t(_,{color:"primary",onClick:l[0]||(l[0]=u=>p.value=!0)},{default:e(()=>[t(b,{left:""},{default:e(()=>l[10]||(l[10]=[o("mdi-plus")])),_:1,__:[10]}),l[11]||(l[11]=o(" Send Notification "))]),_:1,__:[11]})])])]),_:1})]),_:1}),t(A,null,{default:e(()=>[t(V,{cols:"12",md:"3"},{default:e(()=>[t(j,null,{default:e(()=>[t(S,null,{default:e(()=>l[13]||(l[13]=[o("Filters")])),_:1,__:[13]}),t(w,null,{default:e(()=>[t(x,{onClick:l[1]||(l[1]=u=>a.value="all"),class:N({"v-list-item--active":a.value==="all"})},{default:e(()=>[t(g,null,{default:e(()=>l[14]||(l[14]=[o("All Notifications")])),_:1,__:[14]}),t($,null,{default:e(()=>[t(O,{small:""},{default:e(()=>[o(r(y.value.length),1)]),_:1})]),_:1})]),_:1},8,["class"]),t(x,{onClick:l[2]||(l[2]=u=>a.value="unread"),class:N({"v-list-item--active":a.value==="unread"})},{default:e(()=>[t(g,null,{default:e(()=>l[15]||(l[15]=[o("Unread")])),_:1,__:[15]}),t($,null,{default:e(()=>[t(O,{small:"",color:"primary"},{default:e(()=>[o(r(U.value),1)]),_:1})]),_:1})]),_:1},8,["class"]),t(x,{onClick:l[3]||(l[3]=u=>a.value="system"),class:N({"v-list-item--active":a.value==="system"})},{default:e(()=>[t(g,null,{default:e(()=>l[16]||(l[16]=[o("System")])),_:1,__:[16]})]),_:1},8,["class"]),t(x,{onClick:l[4]||(l[4]=u=>a.value="user"),class:N({"v-list-item--active":a.value==="user"})},{default:e(()=>[t(g,null,{default:e(()=>l[17]||(l[17]=[o("User Actions")])),_:1,__:[17]})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12",md:"9"},{default:e(()=>[t(j,null,{default:e(()=>[t(S,null,{default:e(()=>[t(D,{modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=u=>f.value=u),"append-icon":"mdi-magnify",label:"Search notifications...","single-line":"","hide-details":"",clearable:""},null,8,["modelValue"])]),_:1}),t(w,null,{default:e(()=>[(m(!0),H(K,null,W(L.value,u=>(m(),k(x,{key:u.id,onClick:F=>z(u),class:N({"notification-unread":!u.read})},{default:e(()=>[t(R,null,{default:e(()=>[t(b,{color:T(u.type)},{default:e(()=>[o(r(P(u.type)),1)]),_:2},1032,["color"])]),_:2},1024),t(Z,null,{default:e(()=>[t(g,null,{default:e(()=>[o(r(u.title),1)]),_:2},1024),t(B,null,{default:e(()=>[o(r(u.message),1)]),_:2},1024),t(B,{class:"text-caption"},{default:e(()=>[o(r(M(u.createdAt)),1)]),_:2},1024)]),_:2},1024),t($,null,{default:e(()=>[t(J,null,{activator:e(({props:F})=>[t(_,ne({icon:""},{ref_for:!0},F),{default:e(()=>[t(b,null,{default:e(()=>l[18]||(l[18]=[o("mdi-dots-vertical")])),_:1,__:[18]})]),_:2},1040)]),default:e(()=>[t(w,null,{default:e(()=>[t(x,{onClick:F=>z(u)},{default:e(()=>[t(g,null,{default:e(()=>l[19]||(l[19]=[o("Mark as Read")])),_:1,__:[19]})]),_:2},1032,["onClick"]),t(x,{onClick:F=>i(u)},{default:e(()=>[t(g,null,{default:e(()=>l[20]||(l[20]=[o("Delete")])),_:1,__:[20]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1}),L.value.length===0?(m(),H("div",ce,[t(b,{size:"64",color:"grey"},{default:e(()=>l[21]||(l[21]=[o("mdi-bell-outline")])),_:1,__:[21]}),l[22]||(l[22]=d("div",{class:"text-h6 mt-4"},"No notifications",-1)),l[23]||(l[23]=d("div",{class:"text-body-2 text-grey"},"You're all caught up!",-1))])):X("",!0)]),_:1})]),_:1})]),_:1}),t(te,{modelValue:p.value,"onUpdate:modelValue":l[8]||(l[8]=u=>p.value=u),"max-width":"600px"},{default:e(()=>[t(j,null,{default:e(()=>[t(S,null,{default:e(()=>l[24]||(l[24]=[o("Send Notification")])),_:1,__:[24]}),t(v,null,{default:e(()=>[d("div",ve,[t(b,{size:"64",color:"grey"},{default:e(()=>l[25]||(l[25]=[o("mdi-bell-plus")])),_:1,__:[25]}),l[26]||(l[26]=d("div",{class:"text-h6 mt-4"},"Notification Form",-1)),l[27]||(l[27]=d("div",{class:"text-body-2 text-grey"},"Notification creation form will be implemented here",-1))])]),_:1}),t(Q,null,{default:e(()=>[t(E),t(_,{text:"",onClick:l[6]||(l[6]=u=>p.value=!1)},{default:e(()=>l[28]||(l[28]=[o("Cancel")])),_:1,__:[28]}),t(_,{color:"primary",onClick:l[7]||(l[7]=u=>p.value=!1)},{default:e(()=>l[29]||(l[29]=[o("Send")])),_:1,__:[29]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),fe=h(me,[["__scopeId","data-v-f8c33757"]]),xe=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));export{ge as M,xe as N};
//# sourceMappingURL=communication-DjiRjLK_.js.map
